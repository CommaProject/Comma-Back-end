= API 문서
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3

== 유저 API

=== 유저 로그인 성공

==== Request

include::{snippets}/user/login/http-request.adoc[]
include::{snippets}/user/login/request-fields.adoc[]

==== Response

include::{snippets}/user/login/http-response.adoc[]
include::{snippets}/user/login/response-fields.adoc[]
include::{snippets}/user/login/response-cookies.adoc[]

=== 유저 로그인 실패 - 잘못된 정보 입력

==== Request

include::{snippets}/user/login-Fail/wrongInfo/http-request.adoc[]
include::{snippets}/user/login-Fail/wrongInfo/request-fields.adoc[]

==== Response

include::{snippets}/user/login-Fail/wrongInfo/http-response.adoc[]
include::{snippets}/user/login-Fail/wrongInfo/response-fields.adoc[]

=== 유저 정보 가져오기

==== Request

include::{snippets}/user/getUserInfoByToken/http-request.adoc[]
include::{snippets}/user/getUserInfoByToken/request-fields.adoc[]

==== Response

include::{snippets}/user/getUserInfoByToken/http-response.adoc[]
include::{snippets}/user/getUserInfoByToken/response-fields.adoc[]

=== 유저 정보 가져오기 실패 - AccessToken이 없을 때

==== Request

include::{snippets}/user/getUserInfoByToken-Fail/notExistToken/http-request.adoc[]
include::{snippets}/user/getUserInfoByToken-Fail/notExistToken/request-fields.adoc[]

==== Response

include::{snippets}/user/getUserInfoByToken-Fail/notExistToken/http-response.adoc[]
include::{snippets}/user/getUserInfoByToken-Fail/notExistToken/response-fields.adoc[]

=== 유저 정보 가져오기 실패 - 존재하지 않는 유저

==== Request

include::{snippets}/user/getUserInfoByToken-Fail/notExistUser/http-request.adoc[]
include::{snippets}/user/getUserInfoByToken-Fail/notExistUser/request-fields.adoc[]

==== Response

include::{snippets}/user/getUserInfoByToken-Fail/notExistUser/http-response.adoc[]
include::{snippets}/user/getUserInfoByToken-Fail/notExistUser/response-fields.adoc[]

=== 개인 정보 저장하기

==== Request

include::{snippets}/user/private-information/http-request.adoc[]
include::{snippets}/user/private-information/request-fields.adoc[]

==== Response

include::{snippets}/user/private-information/http-response.adoc[]
include::{snippets}/user/private-information/response-fields.adoc[]

=== 개인 정보 저장하기 실패 - 로그인이 되어있지 않음

==== Request

include::{snippets}/user/private-information-Fail/notLogin/http-request.adoc[]
include::{snippets}/user/private-information-Fail/notLogin/request-fields.adoc[]

==== Response

include::{snippets}/user/private-information-Fail/notLogin/http-response.adoc[]
include::{snippets}/user/private-information-Fail/notLogin/response-fields.adoc[]

=== 개인 정보 저장하기 실패 - 유저가 존재하지 않음

==== Request

include::{snippets}/user/private-information-Fail/notExistUser/http-request.adoc[]
include::{snippets}/user/private-information-Fail/notExistUser/request-fields.adoc[]

==== Response

include::{snippets}/user/private-information-Fail/notExistUser/http-response.adoc[]
include::{snippets}/user/private-information-Fail/notExistUser/response-fields.adoc[]

=== 회원가입

==== Request

include::{snippets}/user/register/http-request.adoc[]
include::{snippets}/user/register/request-fields.adoc[]

==== Response

include::{snippets}/user/register/http-response.adoc[]
include::{snippets}/user/register/response-fields.adoc[]

=== 회원가입 실패 - 존재하는 유저

==== Request

include::{snippets}/user/register-Fail/existUser/http-request.adoc[]
include::{snippets}/user/register-Fail/existUser/request-fields.adoc[]

==== Response

include::{snippets}/user/register-Fail/existUser/http-response.adoc[]
include::{snippets}/user/register-Fail/existUser/response-fields.adoc[]

== Security

=== AccessToken 발급 실패 _ RefreshToken 없음 ( 인증 없는 사용자 )

==== Response

include::{snippets}/security/createToken-Fail/notExistToken/http-response.adoc[]
include::{snippets}/security/createToken-Fail/notExistToken/response-fields.adoc[]

=== 새로운 AccessToken 발급 실패 _ RefreshToken 변조

==== Response

include::{snippets}/security/createToken-Fail/falsifedToken/http-response.adoc[]
include::{snippets}/security/createToken-Fail/falsifedToken/response-fields.adoc[]

=== 새로운 Access 토큰 발행 [ 자동화 ]
[ 자동화되어 굳이 요청하지 않아도 됩니다. ]

==== Response

include::{snippets}/security/createToken/http-response.adoc[]
include::{snippets}/security/createToken/response-fields.adoc[]

=== 인가되지 않은 사용자

==== Response

include::{snippets}/security/authorization/http-response.adoc[]
include::{snippets}/security/authorization/response-fields.adoc[]

=== 로그아웃 [/logout]
리다이렉션으로 /logout/message 로 나오는데
로그아웃 uri는 GET 방식의 /logout 으로 요청해주세요.

==== Request

include::{snippets}/security/logout/http-request.adoc[]
include::{snippets}/security/logout/request-fields.adoc[]

==== Response

include::{snippets}/security/logout/http-response.adoc[]
include::{snippets}/security/logout/response-fields.adoc[]

== Spotify API

=== 아티스트 검색하기

==== Request

include::{snippets}/spotify/searchArtist/http-request.adoc[]
include::{snippets}/spotify/searchArtist/request-fields.adoc[]

==== Response

include::{snippets}/spotify/searchArtist/http-response.adoc[]
include::{snippets}/spotify/searchArtist/response-fields.adoc[]

=== 트랙 검색하기

==== Request

include::{snippets}/spotify/searchTrack/http-request.adoc[]
include::{snippets}/spotify/searchTrack/request-fields.adoc[]

==== Response

include::{snippets}/spotify/searchTrack/http-response.adoc[]
include::{snippets}/spotify/searchTrack/response-fields.adoc[]

=== 모든 장르 가져오기

==== Request

include::{snippets}/spotify/genreList/http-request.adoc[]
include::{snippets}/spotify/genreList/request-fields.adoc[]

==== Response

include::{snippets}/spotify/genreList/http-response.adoc[]
include::{snippets}/spotify/genreList/response-fields.adoc[]

=== 연도별 아티스트 정보 가져오기

==== Request

include::{snippets}/spotify/searchArtistByYear/http-request.adoc[]
include::{snippets}/spotify/searchArtistByYear/request-fields.adoc[]

==== Response

include::{snippets}/spotify/searchArtistByYear/http-response.adoc[]
include::{snippets}/spotify/searchArtistByYear/response-fields.adoc[]
